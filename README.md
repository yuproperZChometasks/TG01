# TG01
# Weather Telegram Bot

Этот проект представляет собой асинхронного Telegram-бота, который позволяет пользователям получать текущую погоду по названию города. Бот использует API погоды для получения данных и сохраняет информацию о погодных условиях для каждого пользователя в базе данных.

---

## Оглавление

- [Описание](#описание)
- [Технологии](#технологии)
- [Установка](#установка)
- [Настройка](#настройка)
- [Запуск](#запуск)
- [Использование](#использование)
- [Структура проекта](#структура-проекта)
- [Лицензия](#лицензия)

---

## Описание

Бот реагирует на команду `/start`, приветствует пользователя, и ожидает ввода названия города. После получения названия города, бот обращается к API погоды, получает текущие данные и отображает их пользователю. Также информация сохраняется в базе данных — это позволяет вести историю запросов или расширить функциональность в будущем.

---

## Технологии

- **Python 3.11+**
- **aiogram** — асинхронная библиотека для разработки Telegram-ботов
- **SQLAlchemy** — ORM для работы с базой данных
- **asyncpg** или другой драйвер для PostgreSQL (предположительно)
- **API погоды** — например, WeatherAPI или другой источник данных
- **asyncio** — асинхронное программирование

---

## Установка

1. **Клонируйте репозиторий:**

```bash
git clone https://github.com/yuproperZChometasks/TG01
cd weather-telegram-bot
```

2. **Создайте виртуальное окружение и активируйте его:**

```bash
python -m venv venv
source venv/bin/activate  # Linux/MacOS
venv\Scripts\activate     # Windows
```

3. **Установите зависимости:**

```bash
pip install -r requirements.txt
```

(Если файла `requirements.txt` нет, установите необходимые пакеты вручную, например: `pip install aiogram sqlalchemy asyncpg requests`)

---

## Настройка

1. **Настройка переменных окружения или конфигурационного файла:**

Создайте файл `.env` или настройте переменные окружения с необходимыми данными:

- `API_TOKEN` — токен вашего бота, полученный у BotFather
- `WEATHER_API_KEY` — API ключ для сервиса погоды
- параметры базы данных, например:

```ini
DATABASE_URL=postgresql+asyncpg://user:password@localhost/dbname
```

2. **Настройка API погоды:**

Обновите функцию `fetch_weather()` (предположительно, она реализована в другом месте) для использования вашего API ключа.

---

## Запуск

```bash
python main.py
```

Или, если используете `asyncio.run()` внутри файла `main.py`, убедитесь, что он запускается как скрипт.

---

## Использование

1. Запустите бота.
2. В Telegram найдите вашего бота и отправьте команду `/start`.
3. Введите название города, например: `Москва`.
4. Бот ответит текущей погодой в этом городе, а также сохранит информацию в базе данных.

---

## Структура проекта

```
/project_root
│
├── main.py               # Основной файл запуска бота
├── models.py             # Описание ORM моделей базы данных
├── db.py                 # Инициализация и управление базой данных
├── weather_api.py        # Функции для получения данных погоды
├── handlers.py           # Обработчики команд и сообщений
├── config.py             # Конфигурационные параметры
├── requirements.txt      # Зависимости проекта
└── README.md             # Документация
```

---

## Лицензия

Этот проект распространяется под лицензией MIT. Подробнее см. файл [`LICENSE`](LICENSE).

---

## Контакты

Если у вас возникнут вопросы или предложения, свяжитесь с автором: [your.email@example.com](mailto:your.email@example.com)

---

## Примечания

- Обязательно замените все placeholder-значения (токены, ключи API, параметры базы данных) на свои реальные.
- Для полноценной работы потребуется реализовать функции `fetch_weather()` и модели базы данных, а также настроить API погоды.
- Рекомендуется использовать виртуальное окружение и управлять зависимостями через `requirements.txt`.

---

**Спасибо заиспользование этого проекта!**